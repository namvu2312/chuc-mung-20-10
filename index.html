<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12A3's Story: A Special Feed</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: #111;
        }
        .phone-frame {
            width: 100%;
            height: 100%;
            max-width: 450px;
            max-height: 850px;
            background: #000;
            border-radius: 40px;
            border: 10px solid #111;
            box-shadow: 0 0 40px rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .screen {
            position: absolute;
            width: 100%;
            height: 100%;
            background: #000;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            pointer-events: none;
        }
        .screen.active {
            opacity: 1;
            pointer-events: auto;
        }
        .post, .message-bubble {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .post.visible, .message-bubble.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .story-progress-bar {
            width: 0%;
            height: 3px;
            background: white;
            transition: width 3s linear;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">

    <div class="phone-frame">

        <div id="start-screen" class="screen active flex items-center justify-center">
            <button id="startButton" class="px-6 py-3 text-lg font-bold text-black bg-white rounded-full">‚ñ∂ M·ªü Feed ƒê·∫∑c Bi·ªát</button>
        </div>

        <div id="login-screen" class="screen flex flex-col items-center justify-center p-8">
            <h1 class="text-4xl font-bold text-white mb-12">12A3gram</h1>
            <div class="w-full">
                <input id="username-input" class="w-full p-3 mb-4 bg-gray-800 border border-gray-700 rounded-lg text-white" value="">
                <input class="w-full p-3 mb-8 bg-gray-800 border border-gray-700 rounded-lg text-white" type="password" value="**********">
                <div id="login-button" class="w-full p-3 text-center bg-blue-500 rounded-lg font-bold text-white opacity-50">Log In</div>
            </div>
        </div>

        <div id="feed-screen" class="screen overflow-y-auto">
            <header class="sticky top-0 bg-black/80 backdrop-blur-sm p-4 border-b border-gray-800 flex justify-between items-center">
                <h1 class="text-2xl font-bold text-white">12A3_Memories ‚ú®</h1>
                <div id="story-icon" class="w-10 h-10 bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-500 rounded-full p-0.5 cursor-pointer opacity-50 pointer-events-none">
                    <div class="bg-black rounded-full w-full h-full p-0.5"><img src="https://i.imgur.com/KIXo4gB.png" class="rounded-full" alt="Story Icon"></div>
                </div>
            </header>
            <main id="feed-container" class="p-2 space-y-4"></main>
        </div>

        <div id="story-screen" class="screen">
            <div id="story-progress-container" class="absolute top-0 left-0 w-full p-2 space-x-1 flex z-10"></div>
            <img id="story-image" src="" class="w-full h-full object-cover" alt="Story content">
        </div>
        
        <div id="chat-screen" class="screen flex flex-col">
            <header class="bg-gray-900 p-4 border-b border-gray-800 text-center">
                <h2 class="font-bold text-white">üíñ G·ª≠i m·ªôt n·ª≠a 12A3 üíñ</h2>
            </header>
            <main id="chat-container" class="flex-1 p-4 space-y-3 overflow-y-auto"></main>
        </div>

    </div>

    <audio id="music-lofi" loop src="https://assets.mixkit.co/music/preview/mixkit-lofi-hip-hop-201.mp3"></audio>
    <audio id="music-pop" loop src="https://assets.mixkit.co/music/preview/mixkit-pop-05-707.mp3"></audio>
    <audio id="music-emotional" loop src="https://assets.mixkit.co/music/preview/mixkit-a-very-happy-christmas-897.mp3"></audio>
    <audio id="sfx-whoosh" src="https://assets.mixkit.co/sfx/preview/mixkit-fast-air-whoosh-1488.mp3"></audio>
    <audio id="sfx-like" src="https://assets.mixkit.co/sfx/preview/mixkit-quick-win-video-game-notification-2692.mp3"></audio>
    <audio id="sfx-notification" src="https://assets.mixkit.co/sfx/preview/mixkit-long-pop-2358.mp3"></audio>
    
    <script>
        // --- DATA ƒê·ªÇ CH·ªàNH S·ª¨A ---
        const girlsData = [
            // QUAN TR·ªåNG: M·ªói {...} l√† m·ªôt b·∫°n n·ªØ. Gi·ªØa c√°c b·∫°n ph·∫£i c√≥ d·∫•u ph·∫©y ,
            // B·∫°n cu·ªëi c√πng th√¨ KH√îNG C√ì d·∫•u ph·∫©y ·ªü cu·ªëi.
            // V√ç D·ª§:
            { name: "Y·∫øn Nhy", image: "", caption: "Spotlight on @YenNhy - Ngu·ªìn nƒÉng l∆∞·ª£ng v√† n·ª• c∆∞·ªùi c·ªßa l·ªõp." },
            { name: "H·ªìng Ph√∫c", image: "", caption: "Always shining bright ‚ú® C·∫£m ∆°n @HongPhuc nh√©!" },
            { name: "Th·∫£o", image: "", caption: "G·ª≠i ƒë·∫øn @Thao, ng∆∞·ªùi lu√¥n truy·ªÅn c·∫£m h·ª©ng cho c·∫£ l·ªõp." }
            // ... Th√™m c√°c b·∫°n n·ªØ kh√°c v√†o ƒë√¢y, nh·ªõ c√≥ d·∫•u ph·∫©y nh√©.
        ];

        const storyImages = [
            // Th√™m link c√°c ·∫£nh story v√†o ƒë√¢y, c√°ch nhau b·∫±ng d·∫•u ph·∫©y
            // V√≠ d·ª•: "https://i.imgur.com/example1.jpg", "https://i.imgur.com/example2.jpg"
        ];
        
        // --- PH·∫¶N B√äN D∆Ø·ªöI KH√îNG C·∫¶N CH·ªàNH S·ª¨A ---
        try {
            const screens = document.querySelectorAll('.screen');
            const startButton = document.getElementById('startButton');
            const usernameInput = document.getElementById('username-input');
            const loginButton = document.getElementById('login-button');
            const feedContainer = document.getElementById('feed-container');
            const storyIcon = document.getElementById('story-icon');
            const storyImage = document.getElementById('story-image');
            const storyProgressContainer = document.getElementById('story-progress-container');
            const chatContainer = document.getElementById('chat-container');

            const music = {
                lofi: document.getElementById('music-lofi'),
                pop: document.getElementById('music-pop'),
                emotional: document.getElementById('music-emotional'),
            };
            const sfx = {
                whoosh: document.getElementById('sfx-whoosh'),
                like: document.getElementById('sfx-like'),
                notification: document.getElementById('sfx-notification'),
            };

            const sleep = ms => new Promise(res => setTimeout(res, ms));

            function switchScreen(activeScreenId) {
                screens.forEach(s => s.classList.remove('active'));
                document.getElementById(activeScreenId).classList.add('active');
            }

            async function fadeMusic(track, targetVolume, duration = 1000) {
                const startVolume = track.volume;
                const steps = 20;
                for (let i = 0; i <= steps; i++) {
                    track.volume = startVolume + (targetVolume - startVolume) * (i / steps);
                    await sleep(duration / steps);
                }
                if (targetVolume === 0) track.pause();
            }

            async function playMusic(track, volume = 0.5) {
                track.volume = 0;
                await track.play().catch(e => {});
                await fadeMusic(track, volume);
            }

            async function runPart1_Login() {
                switchScreen('login-screen');
                await playMusic(music.lofi, 0.4);
                
                const username = "TheBoys_12A3";
                for(let i=0; i < username.length; i++) {
                    usernameInput.value += username[i];
                    await sleep(100);
                }
                
                loginButton.classList.remove('opacity-50');
                await sleep(1000);
                sfx.whoosh.play();
                await runPart2_Feed();
            }

            async function runPart2_Feed() {
                switchScreen('feed-screen');
                feedContainer.innerHTML = '';
                for (const girl of girlsData) {
                    const post = document.createElement('div');
                    post.className = 'post bg-black border border-gray-800 rounded-lg';
                    post.innerHTML = `
                        <div class="p-3 flex items-center space-x-3">
                            <img src="https://i.imgur.com/KIXo4gB.png" class="w-8 h-8 rounded-full" alt="Avatar">
                            <span class="font-bold text-white">12A3_Memories</span>
                        </div>
                        <img src="${girl.image || 'https://via.placeholder.com/450x450?text=12A3'}" class="w-full object-cover h-96" alt="Post by ${girl.name}">
                        <div class="p-3">
                            <p class="text-white">${girl.caption}</p>
                            <p class="text-xs text-gray-500 mt-2">Liked by <b>TheBoys_12A3</b> and <b>40 others</b></p>
                        </div>
                    `;
                    feedContainer.appendChild(post);
                    await sleep(50);
                    post.classList.add('visible');
                    post.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    await sleep(500);
                    sfx.like.play();
                    await sleep(2000); // Time per post
                }
                storyIcon.classList.remove('opacity-50', 'pointer-events-none');
            }

            async function runPart3_Story() {
                await fadeMusic(music.lofi, 0);
                await playMusic(music.pop, 0.5);

                switchScreen('story-screen');
                if (storyImages.length === 0) storyImages.push('https://via.placeholder.com/450x850?text=Best+Moments');
                storyProgressContainer.innerHTML = '';

                for (let i=0; i < storyImages.length; i++) {
                    const bar = document.createElement('div');
                    bar.className = 'flex-1 h-full bg-gray-600 rounded-full overflow-hidden';
                    bar.innerHTML = `<div id="progress-bar-${i}" class="story-progress-bar"></div>`;
                    storyProgressContainer.appendChild(bar);
                }

                for (let i=0; i < storyImages.length; i++) {
                    storyImage.src = storyImages[i];
                    await sleep(100);
                    document.getElementById(`progress-bar-${i}`).style.width = '100%';
                    await sleep(3000);
                }
                await runPart4_Notification();
            }
            
            async function runPart4_Notification() {
                switchScreen('feed-screen'); // Quay l·∫°i feed ƒë·ªÉ th·∫•y th√¥ng b√°o
                sfx.notification.play();
                const notification = document.createElement('div');
                notification.className = 'absolute top-0 left-0 w-full p-4 transform -translate-y-full transition-transform duration-500 z-20';
                notification.innerHTML = `
                    <div class="bg-gray-800/80 backdrop-blur-sm rounded-2xl p-3 text-white shadow-lg">
                        <p class="font-bold">üíñ G·ª≠i m·ªôt n·ª≠a 12A3 üíñ</p>
                        <p>TheBoys_12A3: B·∫°n c√≥ m·ªôt tin nh·∫Øn m·ªõi!</p>
                    </div>
                `;
                document.querySelector('.phone-frame').appendChild(notification);
                await sleep(100);
                notification.style.transform = 'translateY(20px)';
                await sleep(4000);
                notification.style.transform = 'translateY(-120%)';
                await runPart5_Chat();
                setTimeout(() => notification.remove(), 1000);
            }

            async function runPart5_Chat() {
                await fadeMusic(music.pop, 0);
                await playMusic(music.emotional, 0.6);
                switchScreen('chat-screen');

                const messages = [
                    { from: 'them', text: 'Happy 20/10 nh√© c√°c b√†! ü•≥' },
                    { from: 'them', text: 'C·∫£m ∆°n v√¨ ƒë√£ lu√¥n l√† nh·ªØng b√¥ng hoa xinh ƒë·∫πp nh·∫•t c·ªßa 12A3.' },
                    { from: 'me', text: 'Thay m·∫∑t to√†n th·ªÉ anh em, ch√∫c m·ªôt n·ª≠a th·∫ø gi·ªõi c·ªßa 12A3 lu√¥n r·∫°ng r·ª°, h·∫°nh ph√∫c v√† nh·∫≠n ƒë∆∞·ª£c th·∫≠t nhi·ªÅu qu√† nh√©! üíñ' }
                ];

                for (const msg of messages) {
                    const bubble = document.createElement('div');
                    bubble.className = `message-bubble max-w-xs p-3 rounded-2xl ${msg.from === 'me' ? 'bg-blue-500 text-white self-end' : 'bg-gray-700 text-white self-start'}`;
                    bubble.innerText = msg.text;
                    chatContainer.appendChild(bubble);
                    await sleep(200);
                    bubble.classList.add('visible');
                    chatContainer.scrollTop = chatContainer.scrollHeight;
                    await sleep(2500);
                }
            }

            startButton.addEventListener('click', () => {
                 Object.values(sfx).concat(Object.values(music)).forEach(a => { a.muted = false; a.play().then(() => a.pause()).catch(() => {}) });
                 runPart1_Login();
            }, { once: true });

            storyIcon.addEventListener('click', runPart3_Story, { once: true });
        } catch (error) {
            document.body.innerHTML = `<div class="text-red-500 p-8">L·ªói JavaScript! Vui l√≤ng ki·ªÉm tra l·∫°i c√∫ ph√°p trong ph·∫ßn DATA ƒê·ªÇ CH·ªàNH S·ª¨A. L·ªói: ${error.message}</div>`;
        }
    </script>
</body>
</html>
